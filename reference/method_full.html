<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Optimal Full Matching — method_full • MatchIt</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Optimal Full Matching — method_full" />
<meta property="og:description" content="In matchit, setting method = &quot;full&quot; performs optimal full matching, which is a form of subclassification wherein all units, both treatment and control (i.e., the &quot;full&quot; sample), are assigned to a subclass and receive at least one match. The matching is optimal in the sense that that sum of the absolute distances between the treated and control units in each subclass are as small as possible. The method relies on and is a wrapper for optmatch::fullmatch.
Advantages of optimal full matching include that the matching order is not required to be specified, units do not need to be discarded, and it is less likely that extreme within-subclass distances will be large, unlike with standard subclassification. The primary output of full matching is a set of matching weights that can be applied to the matched sample; in this way, full matching can be seen as a robust alternative to propensity score weighting, robust in the sense that the propensity score model does not need to be correct to estimate the treatment effect without bias.
This page details the allowable arguments with method = &quot;fullmatch&quot;. See matchit for an explanation of what each argument means in a general context and how it can be specified.
Below is how matchit is used for optimal full matching:
matchit(formula,
        data = NULL,
        method = &quot;full&quot;,
        distance = &quot;glm&quot;,
        link = &quot;logit&quot;,
        distance.options = list(),
        estimand = &quot;ATT&quot;,
        exact = NULL,
        mahvars = NULL,
        anitexact = NULL,
        discard = &quot;none&quot;,
        reestimate = FALSE,
        s.weights = NULL,
        caliper = NULL,
        std.caliper = TRUE,
        verbose = FALSE,
        ...)


" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MatchIt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MatchIt.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/matching-methods.html">Matching Methods</a>
    </li>
    <li>
      <a href="../articles/assessing-balance.html">Assessing Balance</a>
    </li>
    <li>
      <a href="../articles/estimating-effects.html">Estimating Effects After Matching</a>
    </li>
    <li>
      <a href="../articles/sampling-weights.html">Matching with Sampling Weights</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kosukeimai/MatchIt/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Optimal Full Matching</h1>
    
    <div class="hidden name"><code>method_full.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In <code><a href='matchit.html'>matchit</a></code>, setting <code>method = "full"</code> performs optimal full matching, which is a form of subclassification wherein all units, both treatment and control (i.e., the "full" sample), are assigned to a subclass and receive at least one match. The matching is optimal in the sense that that sum of the absolute distances between the treated and control units in each subclass are as small as possible. The method relies on and is a wrapper for <code><a href='https://rdrr.io/pkg/optmatch/man/fullmatch.html'>optmatch::fullmatch</a></code>.</p>
<p>Advantages of optimal full matching include that the matching order is not required to be specified, units do not need to be discarded, and it is less likely that extreme within-subclass distances will be large, unlike with standard subclassification. The primary output of full matching is a set of matching weights that can be applied to the matched sample; in this way, full matching can be seen as a robust alternative to propensity score weighting, robust in the sense that the propensity score model does not need to be correct to estimate the treatment effect without bias.</p>
<p>This page details the allowable arguments with <code>method = "fullmatch"</code>. See <code><a href='matchit.html'>matchit</a></code> for an explanation of what each argument means in a general context and how it can be specified.</p>
<p>Below is how <code>matchit</code> is used for optimal full matching:</p><pre>
<span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>formula</span>,
        data <span class='op'>=</span> <span class='cn'>NULL</span>,
        method <span class='op'>=</span> <span class='st'>"full"</span>,
        distance <span class='op'>=</span> <span class='st'>"glm"</span>,
        link <span class='op'>=</span> <span class='st'>"logit"</span>,
        distance.options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
        estimand <span class='op'>=</span> <span class='st'>"ATT"</span>,
        exact <span class='op'>=</span> <span class='cn'>NULL</span>,
        mahvars <span class='op'>=</span> <span class='cn'>NULL</span>,
        anitexact <span class='op'>=</span> <span class='cn'>NULL</span>,
        discard <span class='op'>=</span> <span class='st'>"none"</span>,
        reestimate <span class='op'>=</span> <span class='cn'>FALSE</span>,
        s.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
        caliper <span class='op'>=</span> <span class='cn'>NULL</span>,
        std.caliper <span class='op'>=</span> <span class='cn'>TRUE</span>,
        verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
        <span class='va'>...</span><span class='op'>)</span>

</pre>

    </div>


    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>a two-sided <code><a href='https://rdrr.io/r/stats/formula.html'>formula</a></code> object containing the treatment and covariates to be used in creating the distance measure used in the matching. This formula will be supplied to the functions that estimate the distance measure.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>a data frame containing the variables named in <code>formula</code>. If not found in <code>data</code>, the variables will be sought in the environment.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>set here to <code>"full"</code>.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>the distance measure to be used. See <code><a href='distance.html'>distance</a></code> for allowable options. When set to <code>"mahalanobis"</code>, optimal full Mahalanobis distance matching will be performed on the variables named in <code>formula</code>.</p></td>
    </tr>
    <tr>
      <th>link</th>
      <td><p>when <code>distance</code> is specified as a string and not <code>"mahalanobis"</code>, an additional argument controlling the link function used in estimating the distance measure. See <code><a href='distance.html'>distance</a></code> for allowable options with each option.</p></td>
    </tr>
    <tr>
      <th>distance.options</th>
      <td><p>a named list containing additional arguments supplied to the function that estimates the distance measure as determined by the argument to <code>distance</code>.</p></td>
    </tr>
    <tr>
      <th>estimand</th>
      <td><p>a string containing the desired estimand. Allowable options include <code>"ATT"</code>, <code>"ATC"</code>, and <code>"ATE"</code>. The estimand controls how the weights are computed; see the Computing Weights section at <code><a href='matchit.html'>matchit</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>exact</th>
      <td><p>for which variables exact matching should take place. Exact matching is processed using <code><a href='https://rdrr.io/pkg/optmatch/man/exactMatch.html'>optmatch::exactMatch</a></code>.</p></td>
    </tr>
    <tr>
      <th>mahvars</th>
      <td><p>for which variables Mahalanobis distance matching should take place when a distance measure other than <code>"mahalanobis"</code> is used (e.g., for caliper matching or to discard units for common support). If specified, the distance measure will not be used in matching.</p></td>
    </tr>
    <tr>
      <th>antiexact</th>
      <td><p>for which variables ant-exact matching should take place. Anti-exact matching is processed using <code><a href='https://rdrr.io/pkg/optmatch/man/antiExactMatch.html'>optmatch::antiExactMatch</a></code>.</p></td>
    </tr>
    <tr>
      <th>discard</th>
      <td><p>a string containing a method for discarding units outside a region of common support. Only allowed when <code>distance</code> is not <code>"mahalanobis"</code>.</p></td>
    </tr>
    <tr>
      <th>reestimate</th>
      <td><p>if <code>discard</code> is not <code>"none"</code>, whether to re-estimate the propensity score in the remaining sample prior to matching.</p></td>
    </tr>
    <tr>
      <th>s.weights</th>
      <td><p>the variable containing sampling weights to be incorporated into propensity score models and balance statistics.</p></td>
    </tr>
    <tr>
      <th>caliper</th>
      <td><p>the width(s) of the caliper(s) used for caliper matching. Calipers are processed by <code><a href='https://rdrr.io/pkg/optmatch/man/caliper-methods.html'>optmatch::caliper</a></code> See Notes and Examples.</p></td>
    </tr>
    <tr>
      <th>std.caliper</th>
      <td><p><code>logical</code>; when calipers are specified, whether they are in standard deviation units (<code>TRUE</code>) or raw units (<code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code>; whether information about the matching process should be printed to the console.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to <code><a href='https://rdrr.io/pkg/optmatch/man/fullmatch.html'>optmatch::fullmatch</a></code>. Allowed arguments include <code>min.controls</code>, <code>max.controls</code>, <code>omit.fraction</code>, <code>mean.controls</code>, and <code>tol</code>. See the <code><a href='https://rdrr.io/pkg/optmatch/man/fullmatch.html'>optmatch::fullmatch</a></code> documentation for details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Due to what appears to be a bug in <em>optmatch</em> (version 0.9-13), calipers can only be used when <code>min.controls</code> is left at its default.</p>
<p>The option <code>"optmatch_max_problem_size"</code> is automatically set to <code>Inf</code> during the matching process, different from its default in <em>optmatch</em>. This enables matching problems of any size to be run, but may also let huge, infeasible problems get through and potentially take a long time or crash R. See <code><a href='https://rdrr.io/pkg/optmatch/man/setMaxProblemSize.html'>optmatch::setMaxProblemSize</a></code> for more details.</p>
    <h2 class="hasAnchor" id="outputs"><a class="anchor" href="#outputs"></a>Outputs</h2>

    <p>All outputs described in <code><a href='matchit.html'>matchit</a></code> are returned with <code>method = "full"</code> except for <code>match.matrix</code>. This is because matching strata are not indexed by treated units as they are in some other forms of matching.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='matchit.html'>matchit</a></code> for a detailed explanation of the inputs and outputs of a call to <code>matchit</code>.</p>
<p><code><a href='https://rdrr.io/pkg/optmatch/man/fullmatch.html'>optmatch::fullmatch</a></code>, which is the workhorse.</p>
<p><code><a href='method_optimal.html'>method_optimal</a></code> for optimal pair matching, which is a special case of optimal full matching, and which relies on similar machinery. Results from <code>method = "optimal"</code> can be replicated with <code>method = "full"</code> by setting <code>min.controls</code>, <code>max.controls</code>, and <code>mean.controls</code> to the desired <code>ratio</code>.</p></div>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Mahalanobis Distance Matching</h3>
<p>Mahalanobis distance matching can be done one of two ways:</p>
<p>1) If no propensity score needs to be estimated, <code>distance</code> should be set to <code>"mahalanobis"</code>, and Mahalanobis distance matching will occur on all the variables in <code>formula</code>. Arguments to <code>discard</code> and <code>mahvars</code> will be ignored, and a caliper can only be placed on named variables. For example, to perform simple Mahalanobis distance matching, the following could be run:</p>
<pre>
<span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>X1</span> <span class='op'>+</span> <span class='va'>X2</span>, method <span class='op'>=</span> <span class='st'>"nearest"</span>,
        distance <span class='op'>=</span> <span class='st'>"mahalanobis"</span><span class='op'>)</span>
</pre>

<p>With this code, the Mahalanobis distance is computed using <code>X1</code> and <code>X2</code>, and matching occurs on this distance. The <code>distance</code> component of the <code>matchit</code> output will be empty.</p>
<p>2) If a propensity score needs to be estimated for any reason, e.g., for common support with <code>discard</code> or for creating a caliper, <code>distance</code> should be whatever method is used to estimate the propensity score or a vector of distance measures, i.e., it should not be <code>"mahalanobis"</code>. Use <code>mahvars</code> to specify the variables used to create the Mahalanobis distance. For example, to perform Mahalanobis within a propensity score caliper, the following could be run:</p>
<pre>
<span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>X1</span> <span class='op'>+</span> <span class='va'>X2</span> <span class='op'>+</span> <span class='va'>X3</span>, method <span class='op'>=</span> <span class='st'>"nearest"</span>,
        distance <span class='op'>=</span> <span class='st'>"glm"</span>, caliper <span class='op'>=</span> <span class='fl'>.25</span>,
        mahvars <span class='op'>=</span> <span class='op'>~</span> <span class='va'>X1</span> <span class='op'>+</span> <span class='va'>X2</span><span class='op'>)</span>
</pre>

<p>With this code, <code>X1</code>, <code>X2</code>, and <code>X3</code> are used to estimate the propensity score (using the <code>"glm"</code> method, which by default is logistic regression), which is used to create a matching caliper. The actual matching occurs on the Mahalanobis distance computed only using <code>X1</code> and <code>X2</code>, which are supplied to <code>mahvars</code>. Units whose propensity score difference is larger than the caliper will not be paired, and some treated units may therefore not receive a match. The estimated propensity scores will be included in the <code>distance</code> component of the <code>matchit</code> output. See Examples.</p>
<p>When sampling weights are supplied through the <code>s.weights</code> argument, the covariance matrix of the covariates used in the Mahalanobis distance is <strong>not</strong> weighted by the sampling weights.</p>


    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>In a manuscript, be sure to cite the following paper if using <code>matchit</code> with <code>method = "full"</code>:</p>
<p>Hansen, B. B., &amp; Klopfer, S. O. (2006). Optimal Full Matching and Related Designs via Network Flows. Journal of Computational and Graphical Statistics, 15(3), 609–627. doi: <a href='https://doi.org/10.1198/106186006X137047'>10.1198/106186006X137047</a></p>
<p>For example, a sentence might read:</p>
<p><em>Optimal full matching was performed using the MatchIt package (Ho, Imai, King, &amp; Stuart, 2011) in R, which calls functions from the optmatch package (Hansen &amp; Klopfer, 2006).</em></p>
<p>Theory is also developed in the following article:</p>
<p>Hansen, B. B. (2004). Full Matching in an Observational Study of Coaching for the SAT. Journal of the American Statistical Association, 99(467), 609–618. doi: <a href='https://doi.org/10.1198/016214504000000647'>10.1198/016214504000000647</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"optmatch"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lalonde"</span><span class='op'>)</span>

<span class='co'># Optimal full PS matching</span>
<span class='va'>m.out1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                    <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                  method <span class='op'>=</span> <span class='st'>"full"</span><span class='op'>)</span>
<span class='va'>m.out1</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out1</span><span class='op'>)</span>

<span class='co'># Optimal full Mahalanobis distance matching within a PS caliper</span>
<span class='va'>m.out2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                    <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                  method <span class='op'>=</span> <span class='st'>"full"</span>, caliper <span class='op'>=</span> <span class='fl'>.01</span>,
                  mahvars <span class='op'>=</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span><span class='op'>)</span>
<span class='va'>m.out2</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out2</span><span class='op'>)</span>

<span class='co'># Optimal full Mahalanobis distance matching within calipers</span>
<span class='co'># of 500 on re74 and re75</span>
<span class='va'>m.out3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>,
                  data <span class='op'>=</span> <span class='va'>lalonde</span>, distance <span class='op'>=</span> <span class='st'>"mahalanobis"</span>,
                  method <span class='op'>=</span> <span class='st'>"full"</span>,
                  caliper <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>re74 <span class='op'>=</span> <span class='fl'>500</span>, re75 <span class='op'>=</span> <span class='fl'>500</span><span class='op'>)</span>,
                  std.caliper <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>m.out3</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out3</span>, addlvariables <span class='op'>=</span> <span class='op'>~</span><span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span> <span class='va'>married</span>,
        data <span class='op'>=</span> <span class='va'>lalonde</span><span class='op'>)</span>
<span class='op'>}</span></div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + re74 + re75, data = lalonde, 
#&gt;     method = "full", distance = "mahalanobis", caliper = c(re74 = 500, 
#&gt;         re75 = 500), std.caliper = FALSE)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt;            eCDF Max
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; 
#&gt; 
#&gt; Summary of Balance for Matched Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; age              25.8438       26.6439         -0.1118     0.6314    0.0391
#&gt; educ             10.2562       10.3123         -0.0279     0.5397    0.0273
#&gt; re74            902.3844      927.3302         -0.0051     0.9956    0.0088
#&gt; re75            661.1024      674.9239         -0.0043     1.0117    0.0091
#&gt; raceblack         0.8500        0.3111          1.4823          .    0.5389
#&gt; racehispan        0.0437        0.1267         -0.3508          .    0.0830
#&gt; racewhite         0.1062        0.5622         -1.5385          .    0.4560
#&gt; nodegree          0.7312        0.6706          0.1334          .    0.0607
#&gt; married           0.1625        0.4753         -0.7987          .    0.3128
#&gt;            eCDF Max Std. Pair Dist.
#&gt; age          0.0868          0.5037
#&gt; educ         0.0623          0.5850
#&gt; re74         0.1946          0.0249
#&gt; re75         0.0855          0.0421
#&gt; raceblack    0.5389          1.7512
#&gt; racehispan   0.0830          0.7605
#&gt; racewhite    0.4560          1.8813
#&gt; nodegree     0.0607          0.3165
#&gt; married      0.3128          1.1113
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; age                   63.9       44.0      51.9     44.9
#&gt; educ                  49.3       12.1      21.4     44.1
#&gt; re74                  99.3       99.3      96.1     56.5
#&gt; re75                  98.5       74.0      93.2     70.3
#&gt; raceblack             15.9          .      15.9     15.9
#&gt; racehispan            -0.3          .      -0.3     -0.3
#&gt; racewhite             18.2          .      18.2     18.2
#&gt; nodegree              45.5          .      45.5     45.5
#&gt; married                3.3          .       3.3      3.3
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.       185
#&gt; Matched (ESS)   55.75     160
#&gt; Matched        231.       160
#&gt; Unmatched      198.        25
#&gt; Discarded        0.         0
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Ho, Kosuke Imai, Gary King, Elizabeth Stuart, Noah Greifer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


